---
layout:     post
title:      "UBoot-最后的移植步骤"
subtitle:   "S5PV210 UBoot main_loop"
date:       2017-03-09 18:00:00
author:     "陈登龙"
header-img: "img/post-bg-uboot.jpg"
catalog: true
tags:
    - UBoot
---


# UBoot-最后的移植步骤


在上次的UBoot移植之后，在运行时仍然会卡住，下面我们继续来配置。

**1.取消OneNand的初始化，我们没有OneNand的硬件, 这就是我们上次UBoot卡住的原因。**

**include/configs/s5p_goni.h**
``` 
//#define CONFIG_CMD_ONENAND
```

**2.取消HASH的配置** 

在main_loop中，UBoot的作者设计了一个Hash表来加快对命令的查找，我们这就不使用这个功能了。
	
``` c
//#define CONFIG_SYS_HUSH_PATSER
```

因为我们修改了配置，所以我们重新需要：

``` makefile
make clean
```

然后重新make，上电之后，可以看到串口中有实际的数据，并且可以使用UBoot的命令。
![UBoot-Main][1]


至此，我们在S5PV210上的UBoot移植已经完成了。

  [1]: https://cheng-zhi.github.io/img/UBoot/post-2017-03-09-UbootMain.png