---
layout:     post
title:      "分析原理图-GPIO"
subtitle:   "原理图分析"
date:       2017-02-21 22:00:00
author:     "陈登龙"
header-img: "img/post-bg-unix-linux.jpg"
catalog: true
tags:
    - 原理图
---


**分析原理图-GPIO**


嵌入式开发需要我们能够看懂原理图，如果你能设计出一块开发板，那么嵌入式开发的硬件知识你已经具备了，今天我们就讨论一些基础的GPIO电路，包括**LED，Key，三极管，上下拉电阻，中段线**。


**一，LED电路**

下面是一个常见的LED电路：
![Tiny210 - LED][1]
LED是一个发光二极管，**正向导通，反向截止**，上面的二极管正极接到电源，负极接到LED1引脚，所以让**LED1引脚输出0,则灯亮**，**输出1，则灯不亮**。至于如何输出0和1,则需要你编程实现了，电阻R是为了保护LED不被烧坏，这个电路可以说是最简单的了。


**二，Key电路**

下面是一个常见的Key电路：
![Tiny210 - Key][2]
这个按键一端接到一个引脚，另一端接到地，假设连接的引脚接了**上拉电阻**(为了不使得按键没有按下是悬空)，则按键**没有按下**时引脚输入的是**高电平1**，按键**按下**之后，引脚接地变为**低电平0**


**三，三极管电路**

如果你学过模拟电路，则对三极管不会陌生，这里只是简单介绍在原理图中的一些应用。

**NPN**三极管：
![Tiny210 - NPN][3]
基级接的**引脚输出高电平1，则导通**，峰鸣器两端有电压，会报警，基级**引脚输出低电平0,三极管截止**，峰鸣器两端无电压，不会报警。

**PNP**三极管：
![PNP][4]
假设E接到VCC，则B输入高电平，三极管就会截止，B输入低电平，三极管就会导通，即E和C之间会有电流流过。

详细说明请参考模拟电路书籍。


**四，上下拉电阻**

一个引脚有高电平，低电平，高阻态(悬空)三种状态，在引脚没有接任何外设或者电源的时候就处于高阻态，为了避免这种状态我们给该引脚加上上拉电阻(+VCC)或者下拉电阻(+GND)。加上之后，在该引脚没有接外设的时候就有电流通过电阻。

下面的4个引脚就接了上拉电阻：
![上拉电阻][5]

这个引脚接了下拉电阻：
![enter description here][6]

**总之：上拉，下拉电阻就是用来确定悬空引脚的状态。**


**五，中断线**

现在的CPU基本都支持中断，**中断线和GPIO经常共用端口**，因为现在的端口具有**复用功能**，所以外设的**中断请求会通过中断线发给CPU**，中断经常用**INT**来表示。

下面的这条中断**与nLED_8共用一个端口**，在**使用前**需要将该端口**配置为中断模式**。
![enter description here][7]





  [1]: https://cheng-zhi.github.io/img/post-2017-02-21-LED.png
  [2]: https://cheng-zhi.github.io/img/post-2017-02-21-Key.png
  [3]: https://cheng-zhi.github.io/img/post-2017-02-21-NPN.png
  [4]: https://cheng-zhi.github.io/img/post-2017-02-21-PNP.png
  [5]: https://cheng-zhi.github.io/img/post-2017-02-21-R.png
  [6]: https://cheng-zhi.github.io/img/post-2017-02-21-R-down.png
  [7]: https://cheng-zhi.github.io/img/post-2017-02-21-INT.png
